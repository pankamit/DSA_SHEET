package com.app.day52;

public class DetectCycleLLRemoveQ3 {

    public static void main(String[] args) {

       /* Node node = new Node(1);
        Node head = node;

        Node node1 = new Node(2);
        node.next = node1;
        node1.next = node;*/

        Node node = new Node(3);
        Node head = node;

        Node node1 = new Node(2);
        node.next = node1;
        Node node2 = new Node(4);
        node1.next = node2;
        Node node3 = new Node(5);
        node2.next = node3;
        Node node4 = new Node(6);
        node3.next = node4;
        node4.next = node2;


        // check if cycle exist if it is find the point where pointers met
        Node slow = head;
        Node fast = head;
        Node prev = null;

        while(fast != null && fast.next != null){

            prev = slow;
            slow = slow.next;
            fast = fast.next.next;

            if(slow == fast){
               break;
            }
        }


        if(fast == null || fast.next == null){
            System.out.println(" Loop doesn't exist ");
            return;
        }


        // Find Starting Point
        Node p1 = head;
        Node p2 = slow;

        while(p1 != p2){
            p1=p1.next;

            prev = p2;
            p2 = p2.next;
        }

        // Remove the Cycle
        if(prev != null) {
            prev.next = null;
        }
        node = head;

        // Traverse the LL after removing cycle
        traverse(node);
    }

    static void traverse(Node node){
        while(node != null){
            System.out.print(node.data+" ");
            node = node.next;
        }
    }
}
